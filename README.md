Telegram_userbot_gemini — README.txt

Кратко
------
Telegram бот .
Бот читает выбранный чат и отвечает от вашего имени. Системный промпт и «роль
собеседника» настраиваются. Все файлы лежат локально рядом с .exe: конфиги,
история переписки, лог ошибок.

Что умеет
---------
• Список чатов слева + поиск по названию.
• Выбор «С кем общаемся» (ролевой контекст из SYSTEM_PROMPT.json).
• Ползунок температуры модели (креативность ответа).
• Чекбокс «Видеть мои сообщения» (игнорировать/учитывать исходящие).
• Кнопки: Запустить / Остановить / Перезагрузить / Очистить историю.
• История на каждый чат — отдельный JSON в папке Chats/.
• Автосоздание конфигов при первом запуске .exe.
• При ошибках пишет трассировку в last_error.log (рядом с .exe).

Первый запуск (готовый .exe)
----------------------------
1) Запуcтите Telegram_userbot_gemini.exe в любой папке, где есть права записи.
2) Рядом автоматически появятся файлы:
   - api_text_model.json
   - telegram_api.json
   - SYSTEM_PROMPT.json
   - папка Chats/
3) Остановите приложение (если открыто) и заполните конфиги по разделам ниже.
4) Запустите .exe снова, выберите чат и роль — нажмите «Запустить».

Где взять ключи и что вписать
-----------------------------
Google Gemini (API Key)
• Получить ключ: https://aistudio.google.com/app/apikey
• Документация: https://ai.google.dev/gemini-api
• Впишите ключ и модель в api_text_model.json (пример ниже).
  Рекомендуемая модель по умолчанию: "gemini-1.5-flash".

Telegram (api_id / api_hash)
• Зайдите: https://my.telegram.org → API development tools.
• Создайте приложение и возьмите api_id и api_hash.
• Впишите их в telegram_api.json.
• Параметр session_file — имя файла сессии. Если указать только имя
  (например, "userbot_session.session"), файл будет храниться рядом с .exe.

Пояснения:
• Список «friends» формирует выпадающий список «С кем общаемся».
• Можно менять состав и описания; приложение подхватит их при следующем старте.
• System prompt — то, как модель должна себя вести.

Использование (GUI)
-------------------
1) Выберите чат слева (доступен поиск).
2) Справа выберите «С кем общаемся» (роль).
3) Отрегулируйте «Температуру» (0.0 — строго/детерминированно; 1.0–1.5 — творчески).
4) Чекбокс «Видеть мои сообщения»:
   - включено — бот реагирует и на ваши исходящие;
   - выключено — бот отвечает только на собеседника.
5) Нажмите «Запустить». Для остановки — «Остановить». «Перезагрузить» — обновит список чатов.
6) «Очистить историю» — пересоздаёт файл истории конкретного чата (в Chats/).

Где лежат данные
----------------
• api_text_model.json — ключ и настройки Gemini API.
• telegram_api.json — api_id, api_hash и путь к сессии Telethon.
• SYSTEM_PROMPT.json — системный промпт и перечень «друзей» (ролей).
• Chats/ — долговременная история по каждому чату (JSON, имя = название чата).
• last_error.log — лог последней необработанной ошибки.

Типовые проблемы
----------------
• "В api_text_model.json пустой api_key" — укажите ключ из Google AI Studio.
• "RESOURCE_EXHAUSTED / quota exceeded" — закончилась квота; ждите окно квоты
  или уменьшайте частоту запросов (rpm_limit), переходите на платный план.
• "Заполни api_id и api_hash" — внесите значения с my.telegram.org.
• Нет реакции бота — проверьте, выбран ли верный чат и роль, не исчерпана ли квота,
  и не запрещено ли «видеть мои сообщения».
• Бот создал новый файл истории после переименования чата — это ожидаемо.

Приватность и безопасность
--------------------------
• Все файлы конфигурации, история и сессия хранятся локально рядом с .exe.
• На сервера Google уходят только сообщения для генерации и системный контекст.
• Не добавляйте в SYSTEM_PROMPT.json чувствительные данные.

Обновление .exe
---------------
• Просто замените файл .exe на новую версию. Папка Chats/ и конфиги сохраняются.

Лицензия
--------
• Укажите подходящую лицензию (например, MIT) в репозитории.
